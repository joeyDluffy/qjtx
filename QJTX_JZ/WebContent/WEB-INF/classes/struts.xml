<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC  
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"  
    "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>

	<constant name="struts.devMode" value="false" />
	<constant name="struts.objectFactory" value="spring"></constant>
		<package name="" namespace="/" extends="json-default">
        <interceptors>
			<interceptor-stack name="myDefaultStack">
				<interceptor-ref name="json"/>
				<interceptor-ref name="defaultStack"/>
			</interceptor-stack>
		</interceptors>    
		<default-interceptor-ref name="myDefaultStack"/>


		<action name="saveSalesData" class="qjtx.action.SaveSalesData">
			<result type="json" name="success">
			</result>
			<result name="input">error.html</result>
		</action>
		
		<!-- qjtx actions -->
		<action name="orderCommit" class="qjtx.action.SaveSalesData">
			<result type="json" name="success">
			</result>
			<result name="input">error.html</result>
		</action>
	</package>
	<package name="authority" namespace="/" extends="json-default">
        <interceptors>  
            <interceptor name="authority"  
                class="util.LoginInterceptor">  
            </interceptor>  
            <!-- 拦截器栈 -->  
            <interceptor-stack name="mydefault">  
                <interceptor-ref name="defaultStack" />  
                <interceptor-ref name="authority" />  
            </interceptor-stack>  
        </interceptors>  
  
        <!-- 定义全局Result -->  
        <global-results>  
            <!-- 当返回login视图名时，转入/login.jsp页面 -->  
            <result name="login">/login.jsp</result>  
        </global-results>  
		<action name="reviewSalesData" class="qjtx.action.ReviewSalesData">
			<result type="json" name="success">
			</result>
			<result name="input">error.html</result>
		</action>
		<action name="reportSalesDataForOp" class="qjtx.action.ReportSalesDataForOp">
			<result type="json" name="success">
			</result>
			<result name="input">error.html</result>
		</action>
		<!-- qjtx actions -->
		<action name="login" class="qjtx.action.Qjlogin">
			<result name="success">/qjmanage.jsp</result>
			<result name="error">/login.jsp</result>
			<result name="input">/login.jsp</result>
		</action>
	</package>

</struts>
